@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - WMS System</title>
</head>
<body style="margin:0;font-family:'Segoe UI',Arial,sans-serif;background-color:#f8f9fa;color:#222;">

    <!-- ======= HEADER ======= -->
    <header style="background:#0056b3;color:white;padding:10px 25px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 2px 6px rgba(0,0,0,0.1);">
        <div style="font-size:22px;font-weight:bold;">
            🏭 <a href="/Home/Index" style="color:white;text-decoration:none;">WMS Dashboard</a>
        </div>
        <div>
            @{
                var username = HttpContextAccessor.HttpContext?.Session.GetString("Username");
                var role = HttpContextAccessor.HttpContext?.Session.GetString("Role");
            }

            @if (!string.IsNullOrEmpty(username))
            {
                <span>👤 <b>@username</b> (@role)</span>
                <span style="margin:0 10px;">|</span>
                <a href="/Account/Logout" style="color:white;text-decoration:underline;">Đăng xuất</a>
            }
            else
            {
                <a href="/Account/Login" style="color:white;text-decoration:none;">Đăng nhập</a>
                <span style="margin:0 10px;">|</span>
                <a href="/Account/Register" style="color:white;text-decoration:none;">Đăng ký</a>
            }
        </div>
    </header>

    <!-- ======= TOP NAVIGATION BAR ======= -->
    <nav style="background-color:#e3f2fd;border-bottom:1px solid #ccc;padding:10px 20px;display:flex;justify-content:center;flex-wrap:wrap;">
        <a href="/Home/Index" style="margin:6px 12px;color:#0056b3;text-decoration:none;font-weight:600;">📊 Dashboard</a>
        <a href="/Receiving/Index" style="margin:6px 12px;color:#0056b3;text-decoration:none;font-weight:600;">📦 Receiving</a>
        <a href="/Assembly/Index" style="margin:6px 12px;color:#0056b3;text-decoration:none;font-weight:600;">🏭 Assembly</a>
        <a href="/Picking/Index" style="margin:6px 12px;color:#0056b3;text-decoration:none;font-weight:600;">🚚 Picking</a>
        <a href="/Inventory/Index" style="margin:6px 12px;color:#0056b3;text-decoration:none;font-weight:600;">📦 Inventory</a>
        <a href="/Labor/Index" style="margin:6px 12px;color:#0056b3;text-decoration:none;font-weight:600;">👷 Labor</a>
    </nav>

    <!-- ======= MAIN BODY ======= -->
    <main style="max-width:1200px;margin:25px auto;background:white;padding:25px;border-radius:8px;
                 box-shadow:0 2px 10px rgba(0,0,0,0.08);min-height:75vh;">
        @RenderBody()
    </main>

    <!-- ======= FOOTER ======= -->
    <footer style="text-align:center;background:#f1f1f1;padding:12px;margin-top:25px;font-size:13px;color:#555;">
        © @DateTime.Now.Year - Warehouse Management System | Developed by
        <b>@(HttpContextAccessor.HttpContext?.Session.GetString("Username") ?? "Guest")</b>
    </footer>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
